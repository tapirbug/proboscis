<html>
  <head>
    <title>Test</title>
  </head>
  <body>
    <script>
        const memory = new WebAssembly.Memory({ initial: 1 });
        const importObject = {
          js: {
            mem: memory
          },
          console: {
            log(start, len) {
              const bytes = new Uint8Array(memory.buffer, start, len)
              const string = new TextDecoder("utf8").decode(bytes)
              const p = document.createElement("p")
              p.innerText = string
              document.body.appendChild(p)
              console.log(`${start}:+${len} => "${string}"`)
            }
          }
        }
        WebAssembly.instantiateStreaming(
          fetch("data:application/wasm;base64,AGFzbQEAAAABEQNgAn9/AGACf38Bf2ABfwF/AhkCAmpzA21lbQIAAQdjb25zb2xlA2xvZwAAAw8OAQECAgICAgICAgICAgIGGQR/AUE9C38AQb3QAAt/AUE9C38BQb3QAAsHDwIEbGlzdAANBG1haW4ADgqMDQ4fACMDIwMjA0EEaiMDIABBCGpqJAMgADYCACABNgIAC1IBAX8gAEEEaigCACABQQRqKAIAakECEAEhAiACQQhqIABBCGogAEEEaigCAPwKAAAgAkEIaiAAQQRqKAIAaiABQQhqIAFBBGooAgD8CgAAIAILHAAjAyMDIwNBBGojA0EIaiQDIAA2AgBBAzYCAAtsAQF/IwBBBGokACMCQQBqIABBBGooAgA2AgAgAEEIaigCACEAIwJBAGogAEEEaigCADYCACAAQQhqKAIAIQAjAkEAaigCACEBIAFBCGogAUEEaigCABAAQQwoAgAjAEEEayQADyMAQQRrJAALUQEBfyMAQQRqJAAjAkEAaiAAQQRqKAIANgIAIABBCGooAgAhACMCQQBqIwJBAGooAgAoAgAQAzYCACMCQQBqKAIAIwBBBGskAA8jAEEEayQAC3ABAX8jAEEIaiQAIwJBAGogAEEEaigCADYCACAAQQhqKAIAIQAjAkEEaiAAQQRqKAIANgIAIABBCGooAgAhACMCQQBqIwJBAGooAgAjAkEEaigCABACNgIAIwJBAGooAgAjAEEIayQADyMAQQhrJAALkgEBAX8jAEEIaiQAIwJBAGogAEEEaigCADYCACAAQQhqKAIAIQAjAkEEaiAAQQRqKAIANgIAIABBCGooAgAhACMDIwNBDGokAyEBIAFBATYCACABQQRqIwJBAGooAgA2AgAgAUEIaiMCQQRqKAIANgIAIwJBAGogATYCACMCQQBqKAIAIwBBCGskAA8jAEEIayQAC1EBAX8jAEEEaiQAIwJBAGogAEEEaigCADYCACAAQQhqKAIAIQAjAkEAaiMCQQBqKAIAQQQoAgA2AgAjAkEAaigCACMAQQRrJAAPIwBBBGskAAtRAQF/IwBBBGokACMCQQBqIABBBGooAgA2AgAgAEEIaigCACEAIwJBAGojAkEAaigCAEEIKAIANgIAIwJBAGooAgAjAEEEayQADyMAQQRrJAALfQEBfyMAQQhqJAAjAkEAaiAAQQRqKAIANgIAIABBCGooAgAhACMCQQRqIABBBGooAgA2AgAgAEEIaigCACEAIwJBAGojAkEAaigCAEEEaigCACMCQQRqKAIAQQRqKAIAahADNgIAIwJBAGooAgAjAEEIayQADyMAQQhrJAALfQEBfyMAQQhqJAAjAkEAaiAAQQRqKAIANgIAIABBCGooAgAhACMCQQRqIABBBGooAgA2AgAgAEEIaigCACEAIwJBAGojAkEAaigCAEEEaigCACMCQQRqKAIAQQRqKAIAaxADNgIAIwJBAGooAgAjAEEIayQADyMAQQhrJAALXQEBfyMAQQRqJAAjAkEAaiAAQQRqKAIANgIAIABBCGooAgAhACMCQQBqIwJBAGooAgBBACMCQQBqKAIAQQRqKAIAGzYCACMCQQBqKAIAIwBBBGskAA8jAEEEayQACywBAX8jAEEEaiQAIwJBAGogADYCACMCQQBqKAIAIwBBBGskAA8jAEEEayQAC4oEAQF/IwBBIGokACMCQQBqQR02AgAjAkEEakEtNgIAIwJBCGpBDCgCADYCACMDIwNBDGokAyEBIAFBATYCACABQQRqIwJBAGooAgA2AgAgAUEIaiMCQQhqKAIANgIAIwJBCGogATYCACMDIwNBDGokAyEBIAFBATYCACABQQRqQRkoAgA2AgAgAUEIaiMCQQhqKAIANgIAIwJBCGogATYCACMCIwJBDGojAkEIaigCACMAJAIQBDYCACQCIwJBEGpBDCgCADYCACMDIwNBDGokAyEBIAFBATYCACABQQRqIwJBBGooAgA2AgAgAUEIaiMCQRBqKAIANgIAIwJBEGogATYCACMDIwNBDGokAyEBIAFBATYCACABQQRqQRkoAgA2AgAgAUEIaiMCQRBqKAIANgIAIwJBEGogATYCACMCIwJBFGojAkEQaigCACMAJAIQBDYCACQCIwJBGGpBDCgCADYCACMDIwNBDGokAyEBIAFBATYCACABQQRqIwJBAGooAgA2AgAgAUEIaiMCQRhqKAIANgIAIwJBGGogATYCACMDIwNBDGokAyEBIAFBATYCACABQQRqQRkoAgA2AgAgAUEIaiMCQRhqKAIANgIAIwJBGGogATYCACMCIwJBHGojAkEYaigCACMAJAIQBDYCACQCIwJBHGooAgAjAEEgayQADyMAQSBrJAALC0MBAEEACz0AAAAAAAAAAAAAAAAAAAAABAAAAAEAAABUEAAAAAIAAAAIAAAAdGFwIHRhcCECAAAACAAAAHR1cCB0dXAh"),
          importObject
        ).then((obj) => {
          const result = obj.instance.exports.main();
          console.log("result place: ", result);
        });
    </script>
  </body>
</html>
